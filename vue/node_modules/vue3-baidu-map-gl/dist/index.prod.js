!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Vue3baiduMapGl={},e.Vue)}(this,(function(e,t){"use strict";const o={all:n=n||new Map,on:function(e,t){var o=n.get(e);o?o.push(t):n.set(e,[t])},off:function(e,t){var o=n.get(e);o&&(t?o.splice(o.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var o=n.get(e);o&&o.slice().map((function(e){e(t)})),(o=n.get("*"))&&o.slice().map((function(o){o(e,t)}))}};var n;function a(){return o}const i=()=>{},l={};function r({key:e,src:t,addCalToWindow:o=!1,exportGetter:n=i}){const a=n();if(l[e]||a){if(void 0!==a)return Promise.resolve(a)}else l[e]=new Promise(((a,i)=>{const l=document.createElement("script"),r=()=>{a(n()),window.document.body.removeChild(l)};o?window[e]=r:l.onload=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(l.onload=null,r())},l.src=t,l.type="text/javascript",l.defer=!0,l.onerror=i,document.body.appendChild(l)}));return l[e]}const s="//mapopen.bj.bcebos.com/github/BMapGLLib/TrackAnimation/src/TrackAnimation.min.js",c="https://unpkg.com/mapvgl/dist/mapvgl.min.js",u="https://unpkg.com/mapvgl/dist/mapvgl.threelayers.min.js",d="https://unpkg.com/mapv/build/mapv.min.js",p="https://unpkg.com/mapv-three/dist/mapvthree.umd.js",f={TrackAnimation:e=>r({src:e||s,addCalToWindow:!1,key:"trackAnimation"}),Mapvgl:e=>r({src:e||c,addCalToWindow:!1,key:"Mapvgl"}),MapvglThreeLayers:e=>r({src:e||u,addCalToWindow:!1,key:"MapvglThreeLayers"}),Mapv:e=>r({src:e||d,addCalToWindow:!1,key:"Mapv"}),MapvThree:e=>r({src:e||p,addCalToWindow:!1,key:"MapvThree"})};function m(e,t,o){for(const n of Object.keys(e))if(/^on/.test(n)&&e[n]){const e=n.replace(/^on/,"").toLocaleLowerCase();o.addEventListener(e,(o=>{var n,a;o.preventDefault=o.preventDefault||(null===(n=o.domEvent)||void 0===n?void 0:n.preventDefault.bind(o.domEvent)),o.stopPropagation=o.stopPropagation||(null===(a=o.domEvent)||void 0===a?void 0:a.stopPropagation.bind(o.domEvent)),t(e,o)}))}}new Set;function g(e,t){console.warn(`[Vue3 BaiduMap GL/${e}]: ${t}`)}function v(e,t){console.error(`[Vue3 BaiduMap GL/${e}]: ${t}`)}const y="undefined"!=typeof window,h=e=>void 0!==e;function C(e){return"[object String]"===Object.prototype.toString.call(e)}function w(e){return"[object Array]"===Object.prototype.toString.call(e)}var b;function M(e){return e.map((({lng:e,lat:t})=>new BMapGL.Point(e,t)))}function B({lng:e,lat:t}){return new BMapGL.Point(e,t)}e.DistrictType=void 0,(b=e.DistrictType||(e.DistrictType={}))[b.PROVINCE=0]="PROVINCE",b[b.CITY=1]="CITY",b[b.AREA=2]="AREA";let k=0;function O(e,t,o){return n=>e()?t(n):o(n)}function L(e){return(t,o)=>{(t===o||t!==o&&JSON.stringify(t)!==JSON.stringify(o))&&e(t)}}const S={1:"PLAYING",2:"INITIAL",3:"STOPPING"};const G={0:"BMAP_STATUS_SUCCESS",8:"ERR_POSITION_TIMEOUT",2:"ERR_POSITION_UNAVAILABLE",6:"ERR_PERMISSION_DENIED"};function I(e,t,o){return new Promise((n=>{e.getPoint(t,(e=>n(e||null)),o)}))}function P(e,t,o){return new Promise((n=>{e.getLocation(new BMapGL.Point(t.lng,t.lat),(e=>{n(e||null)}),o)}))}var _,T;e.CoordinatesFromType=void 0,(_=e.CoordinatesFromType||(e.CoordinatesFromType={}))[_.COORDINATES_WGS84=1]="COORDINATES_WGS84",_[_.COORDINATES_WGS84_MC=2]="COORDINATES_WGS84_MC",_[_.COORDINATES_GCJ02=3]="COORDINATES_GCJ02",_[_.COORDINATES_GCJ02_MC=4]="COORDINATES_GCJ02_MC",_[_.COORDINATES_BD09=5]="COORDINATES_BD09",_[_.COORDINATES_BD09_MC=6]="COORDINATES_BD09_MC",_[_.COORDINATES_MAPBAR=7]="COORDINATES_MAPBAR",_[_.COORDINATES_51=8]="COORDINATES_51",e.CoordinatesToType=void 0,(T=e.CoordinatesToType||(e.CoordinatesToType={}))[T.COORDINATES_GCJ02=3]="COORDINATES_GCJ02",T[T.COORDINATES_BD09=5]="COORDINATES_BD09",T[T.COORDINATES_BD09_MC=6]="COORDINATES_BD09_MC";let A=null;function D(){if(null!==A)return A;const e="//mapopen.bj.bcebos.com/cms/react-bmap/markers_new2x_fbb9e99.png";A={simple_red:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,189),imageSize:new BMapGL.Size(300,300)}),simple_blue:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,225),imageSize:new BMapGL.Size(300,300)}),loc_red:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,189),imageSize:new BMapGL.Size(300,300)}),loc_blue:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,225),imageSize:new BMapGL.Size(300,300)}),start:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(200,139),imageSize:new BMapGL.Size(300,300)}),end:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(225,139),imageSize:new BMapGL.Size(300,300)}),location:new BMapGL.Icon(e,new BMapGL.Size(14,20),{imageOffset:new BMapGL.Size(124,233),imageSize:new BMapGL.Size(300,300)})};for(let t=1;t<=10;t++)A["red"+t]=new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(21*(t-1),0),imageSize:new BMapGL.Size(300,300)});for(let t=1;t<=10;t++)A["blue"+t]=new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(21*(t-1),66),imageSize:new BMapGL.Size(300,300)});return A}function x(){const e=""+k++;return t.provide("parentComponentId",e),e}const z=["id"];var R=t.defineComponent(Object.assign({name:"BMap"},{__name:"index",props:{ak:{},apiUrl:{},width:{default:"100%"},height:{default:"550px"},center:{default:()=>({lat:39.915185,lng:116.403901})},mapType:{default:"BMAP_NORMAL_MAP"},zoom:{default:14},heading:{default:0},tilt:{default:0},minZoom:{default:0},maxZoom:{default:21},noAnimation:{type:Boolean,default:!1},mapStyleId:{},mapStyleJson:{},showControls:{type:Boolean,default:!1},plugins:{},pluginsSourceLink:{},displayOptions:{},restrictCenter:{type:Boolean,default:!0},enableTraffic:{type:Boolean,default:!1},enableDragging:{type:Boolean,default:!0},enableInertialDragging:{type:Boolean,default:!0},enableScrollWheelZoom:{type:Boolean,default:!1},enableContinuousZoom:{type:Boolean,default:!0},enableResizeOnCenter:{type:Boolean,default:!0},enableDoubleClickZoom:{type:Boolean,default:!1},enableKeyboard:{type:Boolean,default:!0},enablePinchToZoom:{type:Boolean,default:!0},enableAutoResize:{type:Boolean,default:!0},enableIconClick:{type:Boolean},loadingBgColor:{default:"#f1f1f1"},loadingTextColor:{default:"#999"},backgroundColor:{default:()=>[245,245,245,100]},onClick:{},onDblclick:{},onRightclick:{},onRightdblclick:{},onMaptypechange:{},onMousemove:{},onMouseover:{},onMouseout:{},onMovestart:{},onMoving:{},onMoveend:{},onZoomstart:{},onZoomend:{},onAddoverlay:{},onAddcontrol:{},onRemovecontrol:{},onRemoveoverlay:{},onClearoverlays:{},onDragstart:{},onDragging:{},onDragend:{},onAddtilelayer:{},onRemovetilelayer:{},onLoad:{},onResize:{},onHotspotclick:{},onHotspotover:{},onHotspotout:{},onTilesloaded:{},onTouchstart:{},onTouchmove:{},onTouchend:{},onLongpress:{}},emits:["initd","unload","pluginReady","click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],setup(e,{expose:o,emit:n}){const i=e,l=t.ref();let s=null,c=t.ref(!1);const u=t.getCurrentInstance(),d=x(),{emit:p}=a(),g=t.computed((()=>C(i.width)?i.width:`${i.width}px`)),h=t.computed((()=>C(i.height)?i.height:`${i.height}px`)),w=y&&!!u;function b(){i.mapStyleId?s.setMapStyleV2({styleId:i.mapStyleId}):i.mapStyleJson&&s.setMapStyleV2({styleJson:i.mapStyleJson})}function M(e){e?s.setTrafficOn():s.setTrafficOff()}function B(e){var t,o;"string"==typeof e?s.centerAndZoom(e,i.zoom):s.centerAndZoom((t=e.lng,o=e.lat,new BMapGL.Point(t,o)),i.zoom)}function k(e){s.setDisplayOptions(e||{})}function O(e){s.setZoom(e,{noAnimation:i.noAnimation})}function S(e){void 0!==window[e]&&s.setMapType(window[e])}function G(e){s.setHeading(e)}function I(e){s.setTilt(e)}function P(e){e?s.enableDragging():s.disableDragging()}function _(e){e?s.enableInertialDragging():s.disableInertialDragging()}function T(e){e?s.enableScrollWheelZoom():s.disableScrollWheelZoom()}function A(e){e?s.enableContinuousZoom():s.disableContinuousZoom()}function D(e){e?s.enableResizeOnCenter():s.disableResizeOnCenter()}function R(e){e?s.enableDoubleClickZoom():s.disableDoubleClickZoom()}function E(e){e?s.enableKeyboard():s.disableKeyboard()}function N(e){e?s.enablePinchToZoom():s.disablePinchToZoom()}function j(e){e?s.enableAutoResize():s.disableAutoResize()}return t.onMounted((function(){if(!w)return;const{proxy:e}=u,o=i.ak||e&&e.$baiduMapAk,a=i.apiUrl||e&&e.$baiduMapApiUrl,g=i.plugins&&e.$baiduMapPlugins?Object.assign(e.$baiduMapPlugins,i.plugins):i.plugins||e.$baiduMapPlugins,y=i.pluginsSourceLink&&e.$baiduMapPluginsSourceLink?Object.assign(e.$baiduMapPluginsSourceLink,i.pluginsSourceLink):i.pluginsSourceLink||e.$baiduMapPluginsSourceLink||{},h=a||`_initBMap_${o}`;r({src:a||`//api.map.baidu.com/api?type=webgl&v=1.0&ak=${o}&callback=${h}`,addCalToWindow:!a,key:h,exportGetter:()=>window.BMapGL}).then((()=>{const{restrictCenter:e,enableIconClick:o,backgroundColor:a,minZoom:r,maxZoom:h,mapType:C,enableAutoResize:w,showControls:x,center:z,displayOptions:W}=i;if(!l.value)return;s=new BMapGL.Map(l.value,{backgroundColor:a,enableIconClick:o,restrictCenter:e,minZoom:r,maxZoom:h,mapType:window[C],enableAutoResize:w,showControls:x,displayOptions:W}),B(z),function(){const{enableDragging:e,enableInertialDragging:t,enableScrollWheelZoom:o,enableContinuousZoom:n,enableResizeOnCenter:a,enableDoubleClickZoom:l,enableKeyboard:r,enablePinchToZoom:s,enableAutoResize:c,enableTraffic:u,mapType:d,zoom:p,tilt:f,heading:m}=i;O(p),I(f),M(u),G(m),S(d),E(r),P(e),j(c),N(s),A(n),D(a),R(l),T(o),_(t)}(),b(),t.watch((()=>i.zoom),O),t.watch((()=>i.tilt),I),t.watch((()=>i.heading),G),t.watch((()=>i.center),L(B),{deep:!0}),t.watch((()=>i.mapStyleId),b),t.watch((()=>i.mapStyleJson),L(b),{deep:!0}),t.watch((()=>i.displayOptions),L(k),{deep:!0}),t.watch((()=>i.mapType),S),t.watch((()=>i.enableTraffic),M),t.watch((()=>i.enableDragging),P),t.watch((()=>i.enableInertialDragging),_),t.watch((()=>i.enableScrollWheelZoom),T),t.watch((()=>i.enableContinuousZoom),A),t.watch((()=>i.enableResizeOnCenter),D),t.watch((()=>i.enableDoubleClickZoom),R),t.watch((()=>i.enableKeyboard),E),t.watch((()=>i.enablePinchToZoom),N),t.watch((()=>i.enableAutoResize),j),m(i,n,s),g&&function(e,t={}){const o=[...new Set(e)].reduce(((e,o)=>{let n;return"string"==typeof o&&(n=f[o])?e.push(n(t[o])):"function"==typeof o&&e.push(o()),e}),[]);return Promise.all(o)}(g,y).then((()=>{n("pluginReady",s)})).catch((e=>{v("BMap","plugins error: "+e)}));const $={map:s,instance:u,BMapGL:window.BMapGL};p(d,$),n("initd",$),c.value=!0})).catch((e=>v("BMap",e.message)))})),t.onUnmounted((()=>{if(s)try{s.destroy()}catch(e){v("BMapGL SDK",e.message)}})),o({getMapInstance:()=>s,getBaseMapOptions:()=>i,resetCenter:()=>B(i.center),setDragging:P}),t.provide("getMapInstance",(()=>s)),t.provide("baseMapSetCenterAndZoom",(e=>B(e))),t.provide("baseMapSetDragging",(e=>P(e))),t.provide("getBaseMapOptions",(()=>i)),(e,o)=>(t.openBlock(),t.createElementBlock("div",{id:t.unref(d)},[t.unref(w)?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createElementVNode("div",{class:"baidu-map-container",ref_key:"mapContainer",ref:l,style:t.normalizeStyle([{width:g.value,height:h.value,background:i.loadingBgColor},{position:"relative",overflow:"hidden"}])},[t.renderSlot(e.$slots,"loading",{},(()=>[t.createElementVNode("div",{style:t.normalizeStyle([{color:i.loadingTextColor},{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}])},t.toDisplayString(t.unref(c)?"":"map loading..."),5)]))],4),t.renderSlot(e.$slots,"default")],64)):t.createCommentVNode("",!0)],8,z))}}));function E(e){const{on:o,off:n,emit:l}=a(),r=t.getCurrentInstance(),s=x(),{emit:c}=r||{emit:i},u=t.inject("getMapInstance",void 0),d=t.inject("parentComponentId",void 0)||"",p=r&&r.type.name||"";if(void 0===u)return{ready:i};const f=u();let m;const g=t=>{m=e(t.map)};return t.onMounted((()=>{f?g({map:f}):o(d,g)})),t.onBeforeUnmount((()=>{try{m&&m()}catch(e){v(p,e.message)}c("unload"),n(d,g)})),{ready:(e,t)=>{const o={map:e,instance:t,BMapGL:window.BMapGL};c("initd",o),l(s,o)}}}const N={style:{display:"none"}};var j=t.defineComponent(Object.assign({name:"BControl",inheritAttrs:!1},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_TOP_LEFT"},offset:{default:()=>({x:83,y:18})},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e,n=t.ref(),{ready:a}=E((e=>{if(!n.value)return;const{offset:i,anchor:l,visible:r}=o,s=new BMapGL.Control;return s.defaultAnchor=window[l],s.defaultOffset=new BMapGL.Size(i.x,i.y),s.initialize=e=>e.getContainer().appendChild(n.value),r&&e.addControl(s),a(e,s),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](s)})),()=>e.removeControl(s)}));return(e,o)=>(t.openBlock(),t.createElementBlock("div",N,[t.createElementVNode("div",t.mergeProps({ref_key:"controlContainer",ref:n},e.$attrs),[t.renderSlot(e.$slots,"default")],16)]))}})),W=t.defineComponent(Object.assign({name:"BScale"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_BOTTOM_LEFT"},offset:{default:()=>({x:83,y:18})},unit:{default:"BMAP_UNIT_METRIC"},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e;let n;const{ready:a}=E((e=>{const{visible:l,offset:r,anchor:s}=o;return n=new BMapGL.ScaleControl({offset:new BMapGL.Size(r.x,r.y),anchor:window[s]}),l&&e.addControl(n),i(),a(e,n),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](n)})),()=>e.removeControl(n)}));function i(){n.setUnit(window[o.unit])}return t.watch((()=>o.unit),i),(e,t)=>null}})),$=t.defineComponent(Object.assign({name:"BZoom"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_BOTTOM_RIGHT"},offset:{default:()=>({x:83,y:18})},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e;let n;const{ready:a}=E((e=>{const{visible:i,offset:l,anchor:r}=o;return n=new BMapGL.ZoomControl({offset:new BMapGL.Size(l.x,l.y),anchor:window[r]}),i&&e.addControl(n),a(e,n),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](n)})),()=>e.removeControl(n)}));return(e,t)=>null}})),Z=t.defineComponent(Object.assign({name:"BCityList"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_TOP_LEFT"},offset:{default:()=>({x:18,y:18})},expand:{type:Boolean,default:!1},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e;let n;const{ready:a}=E((e=>{const{visible:i,expand:l,offset:r,anchor:s}=o;return n=new BMapGL.CityListControl({expand:l,offset:new BMapGL.Size(r.x,r.y),anchor:window[s]}),i&&e.addControl(n),a(e,n),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](n)})),()=>e.removeControl(n)}));return(e,t)=>null}})),F=t.defineComponent(Object.assign({name:"BLocation"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_BOTTOM_RIGHT"},offset:{default:()=>({x:18,y:18})},visible:{type:Boolean,default:!0},onLocationError:{},onLocationSuccess:{}},emits:["initd","unload","locationSuccess","locationError"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const{visible:l,offset:r,anchor:s}=n;return a=new BMapGL.LocationControl({offset:new BMapGL.Size(r.x,r.y),anchor:window[s]}),l&&e.addControl(a),i(e,a),m(n,o,a),t.watch((()=>n.visible),(t=>{e[t?"addControl":"removeControl"](a)})),()=>e.removeControl(a)}));return(e,t)=>null}}));const U={},H={style:{display:"none"}};var V=t.defineComponent(Object.assign({name:"BCopyright",inheritAttrs:!1},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_BOTTOM_RIGHT"},offset:{default:()=>({x:83,y:18})},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){var o;const n=e,a=t.ref();let i;const l=null===(o=t.getCurrentInstance())||void 0===o?void 0:o.uid,{ready:r}=E((e=>{const{anchor:o,offset:s,visible:c}=n;if(!a.value)return;let u=e.getBounds();return(i=U[o])||(i=new BMapGL.CopyrightControl({offset:new BMapGL.Size(s.x,s.y),anchor:window[o]}),U[o]=i,e.addControl(i)),c&&i.addCopyright({id:l,content:a.value.innerHTML,bounds:u}),r(e,i),t.watch((()=>n.visible),(e=>{e?a.value&&i.addCopyright({id:l,content:a.value.innerHTML,bounds:u}):l&&i.removeCopyright(l)})),()=>{var t,n;const a=U[o],i=null===(t=null==a?void 0:a.getCopyrightCollection)||void 0===t?void 0:t.bind(a);i&&(null===(n=i())||void 0===n?void 0:n.length)>1?a.removeCopyright(l):(e.removeControl(a),Reflect.deleteProperty(U,o))}}));return t.onUpdated((()=>{if(!i)return;let e=i.getCopyright(l);e&&a.value&&e.content!==a.value.innerHTML&&i.addCopyright({id:l,content:a.value.innerHTML,bounds:e.bounds})})),(e,o)=>(t.openBlock(),t.createElementBlock("div",H,[t.createElementVNode("div",t.mergeProps({ref_key:"copyrightContainer",ref:a},e.$attrs),[t.renderSlot(e.$slots,"default")],16)]))}})),J=t.defineComponent(Object.assign({name:"BNavigation3d"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_BOTTOM_RIGHT"},offset:{default:()=>({x:83,y:18})},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e;let n;const{ready:a}=E((e=>{const{visible:i,offset:l,anchor:r}=o;return n=new BMapGL.NavigationControl3D({offset:new BMapGL.Size(l.x,l.y),anchor:window[r]}),i&&e.addControl(n),a(e,n),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](n)})),()=>e.removeControl(n)}));return(e,t)=>null}})),q=t.defineComponent(Object.assign({name:"BPanoramaControl"},{__name:"index",props:{anchor:{default:"BMAP_ANCHOR_TOP_RIGHT"},offset:{default:()=>({x:10,y:10})},visible:{type:Boolean,default:!0}},emits:["initd","unload"],setup(e){const o=e;let n;const{ready:a}=E((e=>{const{visible:i,offset:l,anchor:r}=o;return n=new BMapGL.PanoramaControl,n.setOffset(new BMapGL.Size(l.x,l.y)),n.setAnchor(window[r]),i&&e.addControl(n),a(e,n),t.watch((()=>o.visible),(t=>{e[t?"addControl":"removeControl"](n)})),()=>e.removeControl(n)}));return(e,t)=>null}})),K=t.defineComponent(Object.assign({name:"BPanoramaCoverageLayer"},{__name:"index",emits:["initd","unload"],setup(e){let t;const{ready:o}=E((e=>(t=new BMapGL.PanoramaCoverageLayer,e.addTileLayer(t),o(e,t),()=>e.removeTileLayer(t))));return(e,t)=>null}})),Y=t.defineComponent(Object.assign({name:"BMarker"},{__name:"index",props:{position:{},offset:{default:()=>({x:0,y:0})},icon:{},zIndex:{},enableMassClear:{type:Boolean,default:!0},enableDragging:{type:Boolean,default:!1},enableClicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{default:"pointer"},rotation:{default:0},title:{default:""},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onInfowindowclose:{},onInfowindowopen:{},onDragstart:{},onDragging:{},onDragend:{},onRightClick:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const p=()=>{if(!n.position)return!1;const{position:t,offset:r,enableMassClear:s,enableDragging:c,enableClicking:u,raiseOnDrag:p,draggingCursor:f,rotation:g,title:v,icon:y,zIndex:C,visible:w}=n,b={offset:new BMapGL.Size(r.x,r.y),enableMassClear:s,enableDragging:c,enableClicking:u,raiseOnDrag:p,draggingCursor:f,title:v};y&&(b.icon=l()),a=new BMapGL.Marker(new BMapGL.Point(t.lng,t.lat),b),d(g),h(C)&&function(e){a.setZIndex(e)}(C),w&&e.addOverlay(a),m(n,o,a),i(e,a)};return p(),t.watch((()=>n.position),L((e=>{var t;a?(t=e)&&t.lat&&t.lng&&a.setPosition(new BMapGL.Point(t.lng,t.lat)):p()})),{deep:!0}),t.watch((()=>n.icon),L(r),{deep:!0}),t.watch((()=>n.offset),L(u),{deep:!0}),t.watch((()=>n.enableDragging),s),t.watch((()=>n.enableMassClear),c),t.watch((()=>n.rotation),d),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),()=>{a&&e.removeOverlay(a)}}));function l(){const e=D(),{icon:t}=n;if(C(t)&&e[t])return e[t];{const{anchor:e,imageOffset:o,imageSize:n,imageUrl:a,printImageUrl:i}=t,l={imageSize:new BMapGL.Size(n.width,n.height)};return e&&(l.anchor=new BMapGL.Size(e.x,e.y)),o&&(l.imageOffset=new BMapGL.Size(o.x,o.y)),i&&(l.printImageUrl=i),new BMapGL.Icon(a,new BMapGL.Size(n.width,n.height),l)}}function r(){a.setIcon(l())}function s(e){e?a.enableDragging():a.disableDragging()}function c(e){e?a.enableMassClear():a.disableMassClear()}function u(e){e&&a.setOffset(new BMapGL.Size(e.x,e.y))}function d(e){void 0!==e&&a.setRotation(e)}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),Q=t.defineComponent(Object.assign({name:"BMarker3d"},{__name:"index",props:{position:{},height:{},size:{default:50},shape:{default:"BMAP_SHAPE_CIRCLE"},fillColor:{default:"#f00"},fillOpacity:{default:.8},icon:{},enableMassClear:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onRightClick:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const d=()=>{if(!n.position)return!1;if(!n.height)return!1;const{position:t,shape:r,fillColor:s,fillOpacity:c,size:d,icon:p,height:f,enableMassClear:g,visible:v}=n,y={size:d,fillColor:s,fillOpacity:c,shape:window[r]};p&&(y.icon=l()),a=new BMapGL.Marker3D(new BMapGL.Point(t.lng,t.lat),f,y),v&&e.addOverlay(a),u(g),m(n,o,a),i(e,a)};return d(),t.watch((()=>n.position),L((e=>{a?function(e){try{a.setPosition(new BMapGL.Point(e.lng,e.lat))}catch(e){console.error(e)}}(e):d()})),{deep:!0}),t.watch((()=>n.height),(e=>{var t;a?(t=e,a.setHeight(t)):d()})),t.watch((()=>n.enableMassClear),u),t.watch((()=>n.icon),L(c),{deep:!0}),t.watch((()=>n.enableMassClear),u),t.watch((()=>n.fillOpacity),s),t.watch((()=>n.fillColor),r),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),()=>{e.removeOverlay(a)}}));function l(){const{icon:e}=n,{anchor:t,imageOffset:o,imageSize:a,imageUrl:i,printImageUrl:l}=e,r={imageSize:new BMapGL.Size(a.width,a.height)};return t&&(r.anchor=new BMapGL.Size(t.x,t.y)),o&&(r.imageOffset=new BMapGL.Size(o.x,o.y)),l&&(r.printImageUrl=l),new BMapGL.Icon(i,new BMapGL.Size(a.width,a.height),r)}function r(e){a.setFillColor(e)}function s(e){a.setFillOpacity(e)}function c(){a.setIcon(l())}function u(e){e?a.enableMassClear():a.disableMassClear()}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),X=t.defineComponent(Object.assign({name:"BLabel"},{__name:"index",props:{content:{},position:{},offset:{default:()=>({x:0,y:0})},zIndex:{},style:{},enableMassClear:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onRightclick:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],setup(e,{emit:o}){const n=e;let a;const i=()=>!!a,{ready:l}=E((e=>{const f=()=>{if(!n.content)return!1;if(!n.position)return!1;const{content:i,position:l,offset:s,enableMassClear:u,style:f,visible:g,zIndex:v}=n,y={position:new BMapGL.Point(l.lng,l.lat),offset:new BMapGL.Size(s.x,s.y),enableMassClear:u};a=new BMapGL.Label(i,y),f&&a.setStyle(f),g&&e.addOverlay(a),h(v)&&r(v),m(n,o,a),t.watch((()=>n.offset),L(d),{deep:!0}),t.watch((()=>n.style),L(c),{deep:!0}),t.watch((()=>n.enableMassClear),p),t.watch((()=>n.zIndex),r),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)}))};return f(),l(e,a),t.watch((()=>n.position),L(O(i,s,f)),{deep:!0}),t.watch((()=>n.content),O(i,u,f)),()=>{a&&e.removeOverlay(a)}}));function r(e){h(e)&&a.setZIndex(e)}function s(e){a.setPosition(new BMapGL.Point(e.lng,e.lat))}function c(e){h(e)&&a.setStyle(e)}function u(e){a.setContent(e)}function d(e){a.setOffset(new BMapGL.Size(e.x,e.y))}function p(e){e?a.enableMassClear():a.disableMassClear()}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),ee=t.defineComponent(Object.assign({name:"BPolyline"},{__name:"index",props:{path:{},strokeColor:{default:"#000"},strokeWeight:{default:2},strokeOpacity:{default:1},strokeStyle:{default:"solid"},enableMassClear:{type:Boolean,default:!0},enableEditing:{type:Boolean,default:!1},enableClicking:{type:Boolean,default:!0},geodesic:{type:Boolean,default:!1},clip:{type:Boolean,default:!0},linkRight:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onLineupdate:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const p=()=>{a&&e.removeOverlay(a)},f=()=>{if(!n.path||!n.path.length)return!1;const{path:p,strokeColor:f,strokeWeight:g,strokeOpacity:v,strokeStyle:y,enableMassClear:h,enableEditing:C,enableClicking:w,geodesic:b,clip:B,linkRight:k,visible:O}=n,L=M(p);a=new BMapGL.Polyline(L,{strokeColor:f,strokeWeight:g,strokeOpacity:v,strokeStyle:y,enableMassClear:h,enableEditing:C,enableClicking:w,geodesic:b,linkRight:k,clip:B}),O&&e.addOverlay(a),m(n,o,a),i(e,a),t.watch((()=>n.strokeColor),l),t.watch((()=>n.strokeOpacity),r),t.watch((()=>n.strokeWeight),s),t.watch((()=>n.strokeStyle),c),t.watch((()=>n.enableMassClear),u),t.watch((()=>n.enableEditing),d)};return f(),t.watch((()=>n.path),L((e=>{var t;a?e.length?(t=e,a&&a.setPath(M(t))):p():f()})),{deep:!0}),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),p}));function l(e){a&&a.setStrokeColor(e)}function r(e){a&&a.setStrokeOpacity(e)}function s(e){a&&a.setStrokeWeight(e)}function c(e){a&&a.setStrokeStyle(e)}function u(e){a&&(e?a.enableMassClear():a.disableMassClear())}function d(e){a&&(e?a.enableEditing():a.disableEditing())}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),te=t.defineComponent(Object.assign({name:"BBezierCurve"},{__name:"index",props:{path:{},controlPoints:{},strokeColor:{default:"#000"},strokeWeight:{default:2},strokeOpacity:{default:1},strokeStyle:{default:"solid"},enableMassClear:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onLineupdate:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const d=()=>{if(!n.path||!n.path||!n.path.length)return!1;if(!n.controlPoints||!n.controlPoints||!n.controlPoints.length)return!1;const{path:t,controlPoints:l,strokeColor:r,strokeWeight:s,strokeOpacity:c,strokeStyle:u,enableMassClear:d,visible:p}=n,f=M(t),g=l.map((e=>M(e)));try{a=new BMapGL.BezierCurve(f,g,{strokeColor:r,strokeWeight:s,strokeOpacity:c,strokeStyle:u,enableMassClear:d})}catch(e){}p&&e.addOverlay(a),i(e,a),m(n,o,a)};return d(),t.watch((()=>n.path),L((e=>{var t;a?(t=e,a.setPath(M(t))):d()})),{deep:!0}),t.watch((()=>n.controlPoints),L((e=>{var t;a?(t=e,a.setControlPoints(t.map((e=>M(e))))):d()})),{deep:!0}),t.watch((()=>n.strokeColor),l),t.watch((()=>n.strokeOpacity),r),t.watch((()=>n.strokeWeight),s),t.watch((()=>n.strokeStyle),c),t.watch((()=>n.enableMassClear),u),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),()=>{e.removeOverlay(a)}}));function l(e){a.setStrokeColor(e)}function r(e){a.setStrokeOpacity(e)}function s(e){a.setStrokeWeight(e)}function c(e){a.setStrokeStyle(e)}function u(e){e?a.enableMassClear():a.disableMassClear()}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),oe=t.defineComponent(Object.assign({name:"BPolygon"},{__name:"index",props:{path:{},isBoundary:{type:Boolean},strokeColor:{default:"#000"},autoCenter:{type:Boolean,default:!0},strokeWeight:{default:2},strokeOpacity:{default:1},strokeStyle:{default:"solid"},fillColor:{default:"#fff"},fillOpacity:{default:.3},enableMassClear:{type:Boolean},enableEditing:{type:Boolean},enableClicking:{type:Boolean},geodesic:{type:Boolean,default:!1},clip:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onLineupdate:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],setup(e,{emit:o}){const n=e,a=t.inject("baseMapSetCenterAndZoom");let i;const{ready:l}=E((e=>{const a=()=>{if(!n.path)return!1;if(!n.path.length)return;const{path:a,strokeColor:y,strokeWeight:h,strokeOpacity:C,strokeStyle:w,fillOpacity:b,fillColor:B,enableMassClear:k,enableEditing:O,enableClicking:L,geodesic:S,clip:G,isBoundary:I,visible:P}=n,_=I?a:M(a);_&&(i=new BMapGL.Polygon(_,{strokeColor:y,strokeWeight:h,strokeOpacity:C,strokeStyle:w,fillOpacity:b,fillColor:B,enableMassClear:k,enableEditing:O,enableClicking:L,geodesic:S,clip:G}),P&&e.addOverlay(i),P&&r(),m(n,o,i),l(e,i),t.watch((()=>n.strokeColor),s),t.watch((()=>n.strokeOpacity),u),t.watch((()=>n.fillColor),c),t.watch((()=>n.fillOpacity),d),t.watch((()=>n.strokeWeight),p),t.watch((()=>n.strokeStyle),f),t.watch((()=>n.enableMassClear),g),t.watch((()=>n.enableEditing),v),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](i),t&&r()})))};return a(),t.watch((()=>n.path),L((e=>{i?function(e){const{isBoundary:t}=n;i.setPath(t?e:M(e)),r()}(e):a()})),{deep:!0}),()=>{i&&e.removeOverlay(i)}}));function r(){t.nextTick((()=>{if(n.autoCenter)try{const e=i.getBounds();if(e){const t=e.getCenter();t&&a(t)}}catch(e){console.warn("BPolygon","auto set center error",e)}}))}function s(e){i&&i.setStrokeColor(e)}function c(e){i&&i.setFillColor(e)}function u(e){i&&i.setStrokeOpacity(e)}function d(e){i&&i.setFillOpacity(e)}function p(e){i&&i.setStrokeWeight(e)}function f(e){i&&i.setStrokeStyle(e)}function g(e){i&&(e?i.enableMassClear():i.disableMassClear())}function v(e){i&&(e?i.enableEditing():i.disableEditing())}return t.provide("getOverlayInstance",(()=>i)),(e,o)=>t.renderSlot(e.$slots,"default")}}));const ne={style:{display:"none"}};var ae=t.defineComponent(Object.assign({name:"BInfoWindow"},{__name:"index",props:{modelValue:{type:Boolean,default:void 0},show:{type:Boolean,default:!1},title:{default:""},position:{},width:{default:0},height:{default:0},maxWidth:{default:220},offset:{default:()=>({x:0,y:0})},enableAutoPan:{type:Boolean,default:!0},enableCloseOnClick:{type:Boolean,default:!0},onClose:{},onOpen:{},onMaximize:{},onRestore:{},onClickclose:{}},emits:["initd","unload","close","open","maximize","restore","clickclose","update:show"],setup(e,{emit:o}){const n=e,a=t.computed({get:()=>n.show,set:e=>o("update:show",e)}),i=t.ref();let l,r;t.watchEffect((()=>{n.modelValue,0}));const{ready:s}=E((e=>{r=e;const C=()=>{const{title:r,width:u,height:p,enableAutoPan:f,maxWidth:g,offset:v,enableCloseOnClick:y}=n,h={width:u,height:p,title:r,maxWidth:g,enableAutoPan:f,enableCloseOnClick:y,offset:new BMapGL.Size(v.x,v.y)};l=new BMapGL.InfoWindow(i.value||"",h),l.addEventListener("close",(()=>{n.show&&(a.value=!1)})),l.addEventListener("open",(()=>{n.show||(a.value=!0)})),e.addOverlay(l),d(),function(){const e=window.MutationObserver;if(!e)return;new e((()=>{l.redraw()})).observe(i.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}(),m(n,o,l),s(e,l),n.show&&t.nextTick((()=>{c(),t.nextTick((()=>{!l._visible&&(a.value=!1)}))}))};return i.value?C():t.nextTick((()=>C())),t.watch((()=>n.position),L((e=>function(e){c(),l.setPosition(new BMapGL.Point(e.lng,e.lat)),a.value||u()}(e))),{deep:!0}),t.watch((()=>n.title),p),t.watch((()=>n.width),g),t.watch((()=>n.height),f),t.watch((()=>n.maxWidth),v),t.watch((()=>n.enableAutoPan),y),t.watch((()=>n.enableCloseOnClick),h),t.watch((()=>n.show),L((()=>{n.show?c():u()}))),()=>{l&&e.removeOverlay(l)}}));function c(){const{position:e}=n;e&&l&&(r.openInfoWindow(l,new BMapGL.Point(e.lng,e.lat)),a.value=!0)}function u(){l&&(l.hide(),a.value=!1)}function d(){var e;l.redraw(),Array.prototype.forEach.call((null===(e=i.value)||void 0===e?void 0:e.querySelectorAll("img"))||[],(e=>{e.onload=()=>{l.redraw()}}))}function p(e){l.setTitle(e)}function f(e){l.setHeight(e)}function g(e){l.setWidth(e)}function v(e){l.setMaxWidth(e)}function y(e){e?l.enableAutoPan():l.disableAutoPan()}function h(e){e?l.enableCloseOnClick():l.disableCloseOnClick()}return t.onUpdated((()=>{var e;l&&l.isOpen()&&(e=i.value||"",l.setContent(e),d())})),t.provide("getOverlayInstance",(()=>l)),(e,o)=>(t.openBlock(),t.createElementBlock("div",ne,[t.createElementVNode("div",t.mergeProps({ref_key:"infoWindowContainer",ref:i},e.$attrs),[t.renderSlot(e.$slots,"default")],16)]))}})),ie=t.defineComponent(Object.assign({name:"BCircle"},{__name:"index",props:{center:{},radius:{},strokeColor:{default:"#000"},strokeOpacity:{default:1},fillColor:{default:"#fff"},fillOpacity:{default:.3},strokeWeight:{default:2},strokeStyle:{default:"solid"},enableMassClear:{type:Boolean,default:!0},enableEditing:{type:Boolean,default:!1},enableClicking:{type:Boolean,default:!0},geodesic:{type:Boolean,default:!1},clip:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onLineupdate:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>((()=>{const{center:t,radius:l,strokeColor:r,strokeOpacity:s,fillColor:c,fillOpacity:u,strokeWeight:d,strokeStyle:p,enableMassClear:f,enableEditing:g,enableClicking:v,geodesic:y,clip:h,visible:C}=n,w=new BMapGL.Point(t.lng,t.lat);a=new BMapGL.Circle(w,l,{strokeColor:r,strokeWeight:d,strokeOpacity:s,strokeStyle:p,enableMassClear:f,enableEditing:g,enableClicking:v,geodesic:y,clip:h,fillOpacity:u,fillColor:c}),C&&e.addOverlay(a),m(n,o,a),i(e,a)})(),t.watch((()=>n.center),L(r),{deep:!0}),t.watch((()=>n.radius),l),t.watch((()=>n.strokeColor),s),t.watch((()=>n.strokeOpacity),u),t.watch((()=>n.fillColor),c),t.watch((()=>n.fillOpacity),d),t.watch((()=>n.strokeWeight),p),t.watch((()=>n.strokeStyle),f),t.watch((()=>n.enableMassClear),g),t.watch((()=>n.enableEditing),v),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),()=>{e.removeOverlay(a)})));function l(e){a.setRadius(e)}function r(e){a&&a.setCenter(new BMapGL.Point(e.lng,e.lat))}function s(e){a.setStrokeColor(e)}function c(e){a.setFillColor(e)}function u(e){a.setStrokeOpacity(e)}function d(e){a.setFillOpacity(e)}function p(e){a.setStrokeWeight(e)}function f(e){a.setStrokeStyle(e)}function g(e){e?a.enableMassClear():a.disableMassClear()}function v(e){e?a.enableEditing():a.disableEditing()}return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),le=t.defineComponent(Object.assign({name:"BPrism"},{__name:"index",props:{path:{},altitude:{},isBoundary:{type:Boolean},topFillColor:{default:"#fff"},topFillOpacity:{default:.5},sideFillColor:{default:"#fff"},sideFillOpacity:{default:.8},autoCenter:{type:Boolean,default:!0},enableMassClear:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRemove:{},onLineupdate:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],setup(e,{emit:o}){const n=e,a=t.inject("baseMapSetCenterAndZoom");let i;const{ready:l}=E((e=>{const f=()=>{if(!n.path||!n.path||!n.path.length)return!1;const{path:f,altitude:v,isBoundary:y,topFillColor:h,topFillOpacity:C,sideFillColor:w,sideFillOpacity:b,enableMassClear:B,visible:k}=n,O=y?f:M(f);i=new BMapGL.Prism(O,v,{topFillColor:h,topFillOpacity:C,sideFillColor:w,sideFillOpacity:b,enableMassClear:B}),k&&e.addOverlay(i),m(n,o,i),l(e,i),n.autoCenter&&t.nextTick((()=>{var e;try{const t=null===(e=i.getBounds())||void 0===e?void 0:e.getCenter();a(t)}catch(e){g("BPrism","auto set center error")}})),t.watch((()=>n.enableMassClear),r),t.watch((()=>n.topFillColor),s),t.watch((()=>n.topFillOpacity),c),t.watch((()=>n.sideFillColor),u),t.watch((()=>n.sideFillOpacity),d),t.watch((()=>n.altitude),p)};return f(),t.watch((()=>n.path),L((e=>{i?function(e){const{isBoundary:t}=n;i.setPath(t?e:M(e))}(e):f()})),{deep:!0}),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](i)})),()=>{i&&e.removeOverlay(i)}}));function r(e){e?i.enableMassClear():i.disableMassClear()}function s(e){i&&i.setTopFillColor(e)}function c(e){i&&i.setTopFillOpacity(e)}function u(e){i&&i.setSideFillColor(e)}function d(e){i&&i.setSideFillOpacity(e)}function p(e){i&&i.setAltitude(e)}return t.provide("getOverlayInstance",(()=>i)),(e,o)=>t.renderSlot(e.$slots,"default")}})),re=t.defineComponent(Object.assign({name:"BGroundOverlay"},{__name:"index",props:{type:{},url:{},startPoint:{},endPoint:{},autoCenter:{type:Boolean,default:!1},opacity:{default:1},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousemove:{},onMouseover:{},onMouseout:{}},emits:["initd","unload","click","dblclick","mousemove","mouseover","mouseout"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const l=()=>{a&&e.removeOverlay(a)},r=()=>{l();let{startPoint:o,endPoint:i,opacity:r,type:s,autoCenter:c,visible:u}=n;const d=function(){let e=n.url;if("function"==typeof e&&(e=e(),!e))return!1;return e}();if(!d)return;if(!o)return!1;if(!i)return!1;const p=(f=o,m=i,new BMapGL.Bounds(new BMapGL.Point(f.lng,m.lat),new BMapGL.Point(m.lng,f.lat)));var f,m;const v={opacity:r,type:s,url:d.value||d};a=new BMapGL.GroundOverlay(p,v),u&&e.addOverlay(a),c&&t.nextTick((()=>{try{const t=p.getCenter();e.panTo(t)}catch(e){g("GroundOverlay","auto set center error")}}))};return r(),m(n,o,a),i(e,a),t.watch((()=>n),L(r),{deep:!0}),t.watch((()=>n.visible),(t=>{e[t?"addOverlay":"removeOverlay"](a)})),l}));return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),se=t.defineComponent(Object.assign({name:"BContextMenu",inheritAttrs:!1},{__name:"index",props:{width:{default:100},visible:{type:Boolean,default:!0},menuItems:{default:()=>[]},onOpen:{},onClose:{}},emits:["initd","unload","open","close"],setup(e,{emit:o}){const n=e,a=t.inject("getOverlayInstance",(()=>null));let i;const{ready:l}=E((e=>{const r=a()||e,s=()=>{i&&r.removeContextMenu(i)},c=()=>{const{width:t,menuItems:a,visible:l}=n;i=new BMapGL.ContextMenu;for(const o of a){if(C(o)&&"-"===o){i.addSeparator();continue}const n=new BMapGL.MenuItem(o.text,(function(t,n){o.callback.call(null,{point:t,pixel:n,map:e,BMapGL:BMapGL,target:r})}),{width:t,id:String(Math.random())});o.disabled?n.disable():n.enable(),i.addItem(n)}l&&r.addContextMenu(i),m(n,o,i)};return t.watch((()=>n.visible),(e=>{i&&r[e?"addContextMenu":"removeContextMenu"](i)})),t.watch((()=>n.menuItems),L((()=>{s(),c()})),{deep:!0}),c(),l(e,i),s}));return(e,t)=>null}})),ce=t.defineComponent(Object.assign({name:"BDistrictLayer"},{__name:"index",props:{visible:{type:Boolean,default:!0},name:{},kind:{default:0},fillColor:{default:"#fdfd27"},fillOpacity:{default:1},strokeColor:{default:"#231cf8"},viewport:{type:Boolean,default:!1},onClick:{},onDblclick:{},onRightclick:{},onRightdblclick:{},onMousemove:{},onMouseover:{},onMouseout:{}},emits:["initd","unload","mouseover","mouseout","click"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{if(!n.name)return v("BDistrictLayer","DistrictLayer props.name is required");const{visible:l,name:r,kind:s,fillColor:c,fillOpacity:u,strokeColor:d,viewport:p}=n;a=new BMapGL.DistrictLayer({name:`(${r})`,kind:s,fillColor:c,fillOpacity:u,strokeColor:d,viewport:p}),l&&e.addDistrictLayer(a),m(n,o,a),t.watch((()=>n.visible),(t=>{a&&e[t?"addDistrictLayer":"removeDistrictLayer"](a)}));const f=setTimeout((()=>{i(e,a)}),400);return()=>{clearTimeout(f),e.removeDistrictLayer(a)}}));return(e,t)=>null}})),ue=t.defineComponent(Object.assign({name:"BMapMask"},{__name:"index",props:{path:{},showRegion:{default:"inside"},isBuildingMask:{type:Boolean,default:!1},isMapMask:{type:Boolean,default:!1},isPoiMask:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},onClick:{},onDblclick:{},onMousedown:{},onMouseup:{},onMouseout:{},onMouseover:{},onRightclick:{}},emits:["initd","unload","click","dblclick","mousedown","mouseup","mouseout","mouseover","rightclick"],setup(e,{emit:o}){const n=e;let a;const{ready:i}=E((e=>{const l=()=>{a&&e.removeOverlay(a)};return t.watchPostEffect((()=>{if(l(),!n.path||!n.path||!n.path.length)return!1;const{path:t,showRegion:r,isBuildingMask:s,isMapMask:c,isPoiMask:u,visible:d}=n,p=M(t);a=new BMapGL.MapMask(p,{showRegion:r,isBuildingMask:s,isMapMask:c,isPoiMask:u}),d&&e.addOverlay(a),m(n,o,a),i(e,a)})),l}));return t.provide("getOverlayInstance",(()=>a)),(e,o)=>t.renderSlot(e.$slots,"default")}})),de=t.defineComponent(Object.assign({name:"BAutoComplete"},{__name:"index",props:{location:{},types:{},onSearchComplete:{},onHighlight:{},onConfirm:{}},emits:["initd","unload","searchComplete","highlight","confirm"],setup(e,{emit:o}){const n=e,a=t.ref();let i;const{ready:l}=E((e=>{a.value||g("BAutoComplete","render error");const{location:r,types:s}=n;let c=e;"object"==typeof r&&r.lat&&r.lng&&(c=B(r)),i=new BMapGL.Autocomplete({location:c,onSearchComplete:e=>o("searchComplete",e),input:a.value,types:s}),m(n,o,i),l(e,i),t.watch((()=>n.location),(t=>{let o=e;"object"==typeof t&&t.lat&&t.lng&&(o=B(t)),i.setLocation(o)})),t.watch((()=>n.types),(e=>{e&&i.setTypes(e)}))}));return(e,o)=>(t.openBlock(),t.createElementBlock("input",{class:"b-auto-complete-input",type:"text",ref_key:"autoCompleteInput",ref:a,placeholder:"请输入搜索关键词"},null,512))}})),pe=[R,j,W,$,J,Y,Q,V,F,X,ee,oe,ue,te,ie,Z,le,ae,se,q,K,re,ce,de];const fe={install:(e,t)=>{const{ak:o,apiUrl:n,plugins:a,pluginsSourceLink:i}=t||{},l=e.config.globalProperties;for(const t of pe){const o=t.name;e.component(o,t)}o&&(l.$baiduMapAk=o),n&&(l.$baiduMapApiUrl=n),a&&(l.$baiduMapPlugins=a),i&&(l.$baiduMapPluginsSourceLink=i)},version:"2.3.2"},me=fe.install,ge=fe.version;e.BAutoComplete=de,e.BBezierCurve=te,e.BCircle=ie,e.BCityList=Z,e.BContextMenu=se,e.BControl=j,e.BCopyright=V,e.BDistrictLayer=ce,e.BGroundOverlay=re,e.BInfoWindow=ae,e.BLabel=X,e.BLocation=F,e.BMap=R,e.BMapMask=ue,e.BMarker=Y,e.BMarker3d=Q,e.BNavigation3d=J,e.BPanoramaControl=q,e.BPanoramaCoverageLayer=K,e.BPolygon=oe,e.BPolyline=ee,e.BPrism=le,e.BScale=W,e.BZoom=$,e.default=fe,e.install=me,e.useAddressGeocoder=function(e){const o=t.ref(),n=t.ref(!0),a=t.ref(!0);let i;return{get:(t,l)=>{if(i||(i=new BMapGL.Geocoder),!t)return v("useAddressGeocoder","missing required params: address");if(!l)return v("useAddressGeocoder","missing required  params: city");const r=w(t);n.value=!0,(r?Promise.all(t.map((e=>I(i,e,l)))):I(i,t,l)).then((t=>{if(t)if(r){let e=0;o.value=t.map((t=>(e+=+!t,t))),a.value=e===t.length}else o.value=t,a.value=!1;else o.value=t,a.value=!0;e&&e(o)})).catch((e=>{v("useAddressGeocoder",e.message),a.value=!0,o.value=null})).finally((()=>{n.value=!1}))},point:o,isLoading:n,isEmpty:a}},e.useAreaBoundary=function(e){const o=t.ref(!1),n=t.ref([]);let a;return t.onUnmounted((()=>a=null)),{isLoading:o,boundaries:n,get:t=>{a||(a=new BMapGL.Boundary),o.value=!0,a.get(t,(t=>{o.value=!1,n.value=t.boundaries,e&&e(n)}))}}},e.useBrowserLocation=function(e,o){e=e||{};const n=t.ref({}),a=t.ref(!0),i=t.ref(!1),l=t.ref();return{get:()=>{e.SDKLocation=e.enableSDKLocation,new Promise(((t,o)=>{a.value=!0;const n=new BMapGL.Geolocation;n.getCurrentPosition((function(e){const a=n.getStatus();if(l.value=G[a],a===window.BMAP_STATUS_SUCCESS){const{address:o,accuracy:n,point:a}=e;t({accuracy:n,point:a,address:o})}else o()}),e)})).then((e=>{i.value=!1,n.value=e,o&&o(n)})).catch((()=>{i.value=!0})).finally((()=>{a.value=!1}))},isLoading:a,isError:i,status:l,location:n}},e.useDefaultMarkerIcons=D,e.useInstanceId=x,e.useIpLocation=function(e){const o=t.ref({}),n=t.ref(!0);return{location:o,isLoading:n,get:()=>{n.value=!0,(new BMapGL.LocalCity).get((t=>{n.value=!1,o.value={code:t.code,point:t.center,name:t.name},e&&e(o)}))}}},e.usePoint=function(){const e=t.ref(null);return{point:e,set:({lng:t,lat:o})=>{e.value=new BMapGL.Point(t,o)}}},e.usePointConvertor=function(){const e=t.ref(),o=t.ref(!0),n=t.ref(!1),a=t.ref();let i;return{convert:(t,l,r)=>{if(!t)return v("usePointConvertor","missing required params: points");if(!l)return v("usePointConvertor","missing required params: from");if(!r)return v("usePointConvertor","missing required params: to");if(!t.length)return;i||(i=new BMapGL.Convertor),o.value=!0;const s=t.map((e=>new BMapGL.Point(e.lng,e.lat)));(function(e,t,o,n){return new Promise(((a,i)=>{e.translate(t,o,n,(e=>{0===e.status?a(e):i(e.status)}))}))})(i,s,l,r).then((t=>{e.value=t.points.map((e=>({lng:e.lng,lat:e.lat}))),a.value=t.status,n.value=!1})).catch((e=>{e.value=e,n.value=!0})).finally((()=>{o.value=!1}))},result:e,isLoading:o,isError:n,status:a}},e.usePointGeocoder=function(e,o){e=e||{};const n=t.ref(),a=t.ref(!0),i=t.ref(!0);let l;return{get:t=>{if(!t)return v("usePointGeocoder","missing required params: point");l||(l=new BMapGL.Geocoder);const r=w(t);a.value=!0,(r?Promise.all(t.map((t=>P(l,t,e)))):P(l,t,e)).then((e=>{if(e)if(r){let t=0;n.value=e.map((e=>(t+=+!e,e))),i.value=t===e.length}else n.value=e,i.value=!1;else n.value=e,i.value=!0;o&&o(n)})).catch((()=>{i.value=!0,n.value=void 0})).finally((()=>{a.value=!1}))},result:n,isLoading:a,isEmpty:i}},e.useTrackAnimation=function(e,o){let n,a,i,l;const r=t.ref("INITIAL"),s=o||{};let c;t.watch((()=>e.value),(e=>{i=e}));const u=()=>{var e,t,o,r;n||(l=i.getMapInstance(),n=new BMapGLLib.TrackAnimation(l,a,s),e=n,t="_status",o=n._status,r=d,Object.defineProperty(e,t,{get:()=>o,set(e){o=e,r&&r(o)}}))},d=()=>{n&&(r.value=S[n._status])};return t.onUnmounted((()=>{n&&"INITIAL"!==r.value&&n.cancel(),l&&(l.removeOverlay(a),a=null)})),{setPath:e=>{const t=e.map((e=>new BMapGL.Point(e.lng,e.lat)));a=new BMapGL.Polyline(t),u()},start:()=>{const e=performance.now(),t=c||0,o=s.delay||0;n&&e-t>o&&"INITIAL"===r.value&&n.start(),c=performance.now()},stop:()=>{n&&n.pause()},cancel:()=>{n&&n.cancel()},proceed:()=>{n&&n.continue()},status:r}},e.useViewAnimation=function(e,o){(o=o||{}).disableDragging=void 0===o.disableDragging;const n=t.ref("INITIAL"),a={animationcancel:[()=>n.value="INITIAL"],animationend:[()=>n.value="INITIAL"],animationstart:[()=>n.value="PLAYING"]};let i,l,r=!1;t.watch((()=>e.value),(e=>{i=e}));const s=()=>{const{enableDragging:e}=i.getBaseMapOptions();i.setDragging(e)};let c={addEventListener(e,t){a[e]||(a[e]=[]),a[e].push(t)},removeEventListener(e,t){const o=a[e];if(o)if(t)for(let e=o.length;e>=0;e--)o[e]===t&&o.splice(e,1);else a[e]=[]}};return t.onUnmounted((()=>{try{c&&"INITIAL"==n.value&&(l=i.getMapInstance(),c._cancel(l),s())}catch(e){return!1}})),{viewAnimation:c,start:()=>{r&&"PLAYING"!==n.value&&(l=i.getMapInstance(),l.startViewAnimation(c),i.setDragging(!o.disableDragging))},cancel:()=>{r&&"INITIAL"!==n.value&&(c._cancel(l),s())},stop:()=>{r&&"PLAYING"===n.value&&(c._pause(),n.value="STOPPING")},proceed:()=>{r&&"STOPPING"===n.value&&(c._continue(),n.value="PLAYING")},status:n,setKeyFrames:e=>{const{loop:t,duration:n,delay:i}=o;for(const t of e)if(t.center){const{lng:e,lat:o}=t.center;t.center=new BMapGL.Point(e,o)}c=new BMapGL.ViewAnimation(e,{duration:n,delay:i,interation:t});for(const e of Object.keys(a)){const t=a[e];t&&t.length&&t.forEach((t=>{c.addEventListener(e,t)}))}r=!0}}},e.version=ge,Object.defineProperty(e,"__esModule",{value:!0})}));
